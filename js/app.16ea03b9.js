(function(e){function t(t){for(var r,c,o=t[0],l=t[1],u=t[2],d=0,f=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/Alef-Test/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var s=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1a86":function(e,t,n){e.exports=n.p+"img/Logo.04ef3b20.svg"},4610:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(e,t,n,a,i,c){var o=Object(r["y"])("router-view");return Object(r["s"])(),Object(r["d"])(Object(r["z"])(e.layout),null,{default:Object(r["F"])((function(){return[Object(r["h"])(o,{layout:e.layout,"onUpdate:layout":t[0]||(t[0]=function(t){return e.layout=t}),layoutModifiers:{sync:!0}},null,8,["layout"])]})),_:1})}n("5dba");var i={name:"App",data:function(){return{layout:"div"}}},c=n("6b0d"),o=n.n(c);const l=o()(i,[["render",a]]);var u=l,s=n("6c02"),d=(n("b0c0"),{class:"main"}),f=Object(r["f"])("p",null,"Персональные данные",-1),b={class:"personal-info"};function h(e,t,n,a,i,c){var o=Object(r["y"])("Children");return Object(r["s"])(),Object(r["e"])("main",d,[f,Object(r["f"])("div",b,[Object(r["f"])("div",{class:Object(r["o"])(["input-wrapper",{"visible-error":e.parent.invalidName}])},[Object(r["G"])(Object(r["f"])("input",{type:"text",class:"name","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.parent.name=t})},null,512),[[r["D"],e.parent.name]])],2),Object(r["f"])("div",{class:Object(r["o"])(["input-wrapper",{"visible-error":e.parent.invalidAge}])},[Object(r["G"])(Object(r["f"])("input",{type:"text",class:"age","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.parent.age=t})},null,512),[[r["D"],e.parent.age]])],2)]),Object(r["h"])(o,{onSaveChildren:c.saveChildren,parent:e.parent},null,8,["onSaveChildren","parent"])])}function p(e,t,n,a,i,c){var o=Object(r["y"])("Header"),l=Object(r["y"])("Footer");return Object(r["s"])(),Object(r["e"])(r["a"],null,[Object(r["h"])(o),Object(r["x"])(e.$slots,"default"),Object(r["h"])(l)],64)}var v=n("1a86"),O=n.n(v),j={class:"header-container"},m=Object(r["f"])("div",{class:"logo"},[Object(r["f"])("img",{src:O.a,alt:"logo"})],-1),g={class:"nav"},y=Object(r["g"])("Форма"),w=Object(r["g"])("Превью");function C(e,t,n,a,i,c){var o=Object(r["y"])("router-link");return Object(r["s"])(),Object(r["e"])("div",j,[m,Object(r["f"])("nav",g,[Object(r["f"])("ul",null,[Object(r["h"])(o,{to:{name:"main"}},{default:Object(r["F"])((function(){return[y]})),_:1}),Object(r["h"])(o,{to:{name:"preview"}},{default:Object(r["F"])((function(){return[w]})),_:1})])])])}n("616d");var _={name:"Header"};const k=o()(_,[["render",C]]);var S=k,D={class:"footer"},A=Object(r["f"])("div",null,"all rights reserved",-1),x=[A];function P(e,t,n,a,i,c){return Object(r["s"])(),Object(r["e"])("footer",D,x)}var F={name:"Footer"};const $=o()(F,[["render",P]]);var B=$,N={name:"LayoutDefault",components:{Header:S,Footer:B}};const U=o()(N,[["render",p]]);var H=U,M={class:"children-info"},V={class:"info-head"},G=Object(r["f"])("span",null,"Дети (макс. 5)",-1),I={class:"info-body"},T=["onUpdate:modelValue"],z=["onUpdate:modelValue"],J=["onClick"];function L(e,t,n,a,i,c){return Object(r["s"])(),Object(r["e"])("div",M,[Object(r["f"])("div",V,[G,Object(r["f"])("button",{onClick:t[0]||(t[0]=function(){return c.addInput&&c.addInput.apply(c,arguments)}),class:Object(r["o"])({hide:e.hideSaveBtn})}," + Добавить ребенка ",2)]),Object(r["f"])("div",I,[(Object(r["s"])(!0),Object(r["e"])(r["a"],null,Object(r["w"])(e.children,(function(e){return Object(r["s"])(),Object(r["e"])("div",{class:"children-item",key:e.id},[Object(r["f"])("div",{class:Object(r["o"])(["input-wrapper children-name",{"visible-error":e.invalidName}])},[Object(r["G"])(Object(r["f"])("input",{type:"text",class:"name","onUpdate:modelValue":function(t){return e.name=t}},null,8,T),[[r["D"],e.name]])],2),Object(r["f"])("div",{class:Object(r["o"])(["input-wrapper",{"visible-error":e.invalidAge}])},[Object(r["G"])(Object(r["f"])("input",{type:"text",class:"age","onUpdate:modelValue":function(t){return e.age=t}},null,8,z),[[r["D"],e.age]])],2),Object(r["f"])("button",{onClick:function(t){return c.removeChildren(e.id)}},"Удалить",8,J)])})),128))]),Object(r["f"])("button",{class:"save-btn",onClick:t[1]||(t[1]=function(){return c.handleSaveData&&c.handleSaveData.apply(c,arguments)})}," Сохранить ")])}n("b64b"),n("ac1f"),n("00b4"),n("d758");var q={name:"children",props:{parent:{type:Object,required:!0}},data:function(){return{hideSaveBtn:!1,children:{},validData:!1}},watch:{__childrenCount:function(){this.hideSaveBtn=5===Object.keys(this.children).length}},mounted:function(){this.children=Object.assign({},this.handleStoreChildren(this.$store.getters.children))},methods:{handleStoreChildren:function(e){var t={};for(var n in e)t[n]=Object.assign({},e[n]);return t},addInput:function(){var e=+Object.keys(this.children)[Object.keys(this.children).length-1];e+=1;var t=e||0;this.children[t]={id:t,name:"",age:"",invalidName:!1,invalidAge:!1}},removeChildren:function(e){delete this.children[e]},validName:function(e){var t=/[a-zA-Zа-яА-Я]{1,15}/gi.test(e.name);return e.invalidName=!t,t},validAge:function(e){var t=/[0-9]{1,3}/gi.test(e.age);return e.invalidAge=!t,t},validForm:function(e){var t=this.validName(e),n=this.validAge(e);return t&&n},handleSaveData:function(){this.validForm(this.parent)&&this.handleSaveChildren()},handleSaveChildren:function(){var e,t=Object.keys(this.children);e=!t.length||this.checkForm(),e&&this.saveChildren()},checkForm:function(){for(var e in this.children)if(!this.validForm(this.children[e]))return!1;return!0},saveChildren:function(){this.$emit("saveChildren",this.children)}},computed:{__childrenCount:function(){return Object.keys(this.children).length}}};const Z=o()(q,[["render",L]]);var E=Z,K={name:"Main",components:{Children:E},data:function(){return{parent:{name:"",age:"",invalidName:!1,invalidAge:!1}}},created:function(){this.$emit("update:layout",this.__layoutDefault)},mounted:function(){var e=Object.assign({},this.$store.getters.parent);this.parent=e.name?e:this.parent},methods:{saveChildren:function(e){this.$store.commit("saveParent",this.parent),this.$store.commit("saveChildren",e)}},computed:{__layoutDefault:function(){return Object(r["m"])(H)}}};const Q=o()(K,[["render",h]]);var R=Q,W={class:"main"},X=Object(r["f"])("p",null,"Персональные данные",-1),Y={class:"parent-data"},ee=Object(r["f"])("p",null,"Дети",-1),te={class:"children-preview"};function ne(e,t,n,a,i,c){return Object(r["s"])(),Object(r["e"])("div",W,[X,Object(r["f"])("div",Y,[Object(r["f"])("span",null,Object(r["B"])(e.name),1),Object(r["f"])("span",null,Object(r["B"])(e.age),1)]),ee,Object(r["f"])("div",te,[(Object(r["s"])(!0),Object(r["e"])(r["a"],null,Object(r["w"])(this.$store.getters.children,(function(e){return Object(r["s"])(),Object(r["e"])("span",{class:"children-data",key:e.id},[Object(r["f"])("span",null,Object(r["B"])(e.name)+",",1),Object(r["f"])("span",null,Object(r["B"])(c.getHandleAge(e.age)),1)])})),128))])])}n("4610");var re={name:"Preview",data:function(){return{age:null,name:null}},created:function(){this.$emit("update:layout",this.__layoutDefault)},mounted:function(){this.handleParentData()},methods:{handleParentData:function(){var e=this.$store.getters.parent.age;e&&(this.age=this.getHandleAge(e)),this.name=this.$store.getters.parent.name},getHandleAge:function(e){return" ".concat(e,e>20&&e%10<5?" года":" лет")}},computed:{__layoutDefault:function(){return Object(r["m"])(H)}}};const ae=o()(re,[["render",ne]]);var ie=ae,ce=Object(s["a"])({history:Object(s["b"])(),routes:[{path:"/",name:"main",component:R},{path:"/preview",name:"preview",component:ie}]}),oe=n("5502"),le=Object(oe["a"])({state:{parent:{},children:{}},getters:{parent:function(e){return e.parent},children:function(e){return e.children}},mutations:{saveChildren:function(e,t){e.children=t},saveParent:function(e,t){e.parent=t}}});Object(r["c"])(u).use(ce).use(le).mount("#app")},"5dba":function(e,t,n){},"616d":function(e,t,n){},d758:function(e,t,n){}});
//# sourceMappingURL=app.16ea03b9.js.map